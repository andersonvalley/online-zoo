!function(){"use strict";var e={370:function(e){e.exports=function(e,t){return t||(t={}),e?(e=String(e.__esModule?e.default:e),t.hash&&(e+=t.hash),t.maybeNeedQuotes&&/[\t\n\f\r "'=<>`]/.test(e)?'"'.concat(e,'"'):e):e}},418:function(e,t,n){e.exports=n.p+"assets/favicon.ico"}},t={};function n(o){var s=t[o];if(void 0!==s)return s.exports;var r=t[o]={exports:{}};return e[o](r,r.exports,n),r.exports}n.m=e,n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e;n.g.importScripts&&(e=n.g.location+"");var t=n.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var o=t.getElementsByTagName("script");o.length&&(e=o[o.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),n.p=e+"../"}(),n.b=document.baseURI||self.location.href,function(){var e=n(370),t=n.n(e),o=new URL(n(418),n.b);function s(e){const t=document.querySelector(".game__frame-text").innerHTML.charAt(0);window.localStorage.setItem("elements",JSON.stringify(e)),window.localStorage.setItem("moves",JSON.stringify(document.querySelector(".puzzle__moves").innerHTML)),window.localStorage.setItem("seconds",JSON.stringify(document.querySelector(".puzzle__sec").innerHTML)),window.localStorage.setItem("minutes",JSON.stringify(document.querySelector(".puzzle__min").innerHTML)),window.localStorage.setItem("rows",JSON.stringify(document.querySelector(".game__frame-text").innerHTML[0])),window.localStorage.setItem("countOf",JSON.stringify(String(t*t)))}function r(){return JSON.parse(window.localStorage.getItem("elements"))}function i(){let e=window.localStorage.getItem("moves");return e&&(e=JSON.parse(e)),e}function a(){let e=window.localStorage.getItem("seconds");return e&&(e=JSON.parse(e)),+e}function l(){let e=window.localStorage.getItem("minutes");return e&&(e=JSON.parse(e)),+e}function c(){return JSON.parse(window.localStorage.getItem("top-results"))}function u(){return JSON.parse(window.localStorage.getItem("rows"))}function d(){return JSON.parse(window.localStorage.getItem("countOf"))}function m(e,t){const n=document.querySelector(".game__list");switch(document.querySelector(".game__frame-text").innerHTML=`${t}x${t}`,String(e.length)){case"9":n.className="game__list game__list-3x3";break;case"25":n.className="game__list game__list-5x5";break;case"36":n.className="game__list game__list-6x6";break;case"49":n.className="game__list game__list-7x7";break;case"64":n.className="game__list game__list-8x8";break;default:n.className="game__list game__list-4x4"}n.innerHTML="",n.insertAdjacentHTML("beforeend",e.map(((n,o)=>((n,o)=>`<li data-number="${n}" data-index="${o}" data-next="${e[+o+ +t]}" data-prev="${e[+o-+t]}" class="${n?"game__item":"game__item game__item-empty"}">${n||""}</li>`)(n,o))).join(""))}function p(e){s(e),document.querySelector(".popup__title").innerHTML="The game has been save",document.querySelector(".popup__text").innerHTML="You can come back later",document.querySelector(".popup__list").innerHTML="",document.body.classList.add("popup-active");document.body.className.includes("popup-active")&&[".popup__close",".popup__btn",".overlay"].forEach((e=>{document.querySelector(e).onclick=()=>{document.body.classList.remove("popup-active")}}))}function _(e){let t=c()?c():[];return e&&(t=[...t,e]),window.localStorage.setItem("top-results",JSON.stringify(t)),t}function g(e,t,n,o,r){const i=document.querySelector(".audio"),a=document.querySelector(".puzzle__moves"),l=document.querySelector(".puzzle__sec"),c=document.querySelector(".puzzle__min");a.innerHTML=String(+a.innerHTML+1);const u=t.dataset.number;if(i.play(),s(e),e.splice(n,1,0),e.splice(o,1,+u),m(e,r),v(e,r),function(e){let t=!1;0!==e[e.length-1]&&1!==e[0]&&(t=!1);for(let n=0;n<e.length-2;n+=1){const o=void 0===e[n+1]?e[n]:e[n+1];if(e[n]>o){t=!1;break}t=!0}return t}(e)){const t={move:a.innerHTML,sec:l.innerHTML,min:c.innerHTML,type:r};_(t),p(e),document.querySelector(".popup__text").innerHTML=`You solved the puzzle in ${c.innerHTML}:${l.innerHTML} and ${t.move} moves!!`,document.querySelector(".popup__list").innerHTML="",document.querySelector(".popup__title").innerHTML="Hooray!"}}function f(e){e.addEventListener("dragover",(t=>{t.preventDefault(),e.style.backgroundColor="#c4c4c4"}))}function z(e){const t=document.querySelector(".game__list");return e.setAttribute("draggable","true"),Array.from(t.children).filter((e=>"0"===e.dataset.number))[0]}function S(e,t,n,o,s,r){e.addEventListener("drop",(e=>{e.preventDefault(),g(t,n,o,s,r)}))}function v(e,t){const n=document.querySelectorAll(".game__item"),o="0";n.forEach(((n,s)=>{n.addEventListener("click",(()=>{n.nextElementSibling&&n.nextElementSibling.dataset.number===o?g(e,n,s,s+1,t):n.previousElementSibling&&n.previousElementSibling.dataset.number===o?g(e,n,s,s-1,t):n.dataset.next===o?g(e,n,s,s+ +t,t):n.dataset.prev===o&&g(e,n,s,s-+t,t)})),n.addEventListener("mousedown",(()=>{if(n.dataset.next===o){const o=z(n);f(o),S(o,e,n,s,s+ +t,t)}else if(n.dataset.prev===o){const o=z(n);f(o),S(o,e,n,s,s-+t,t)}else if(n.nextElementSibling&&n.nextElementSibling.dataset.number===o){const o=z(n);f(o),S(o,e,n,s,s+1,t)}else if(n.previousElementSibling&&n.previousElementSibling.dataset.number===o){const o=z(n);f(o),S(o,e,n,s,s-1,t)}}))}))}function b(e,t,n){const o=document.querySelector("#stop");m(t,n),v(t,n),e&&(o.removeAttribute("disabled"),o.classList.add("puzzle__btn-gray"),o.innerHTML="Stop")}function y(e){void 0!==e&&clearInterval(e)}function L(){document.querySelector(".puzzle__min").innerHTML="0",document.querySelector(".puzzle__sec").innerHTML="0"}function M(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n=document.querySelector(".puzzle__sec"),o=document.querySelector(".puzzle__min");let s=+t,r=+e;return setInterval((()=>{s+=1,1===String(s).length?n.innerHTML=`0${s}`:n.innerHTML=s,59===s&&(s=0,r+=1,1===String(r).length?o.innerHTML=`0${r}`:o.innerHTML=r,n.innerHTML=s)}),1e3)}function T(e){const t=[];for(let n=1;n<=e;n+=1){let n=Math.floor(Math.random()*e);for(;-1!==t.indexOf(n);)n=Math.floor(Math.random()*e);t.push(n)}return t}function w(){const e=document.querySelector("#stop");e.classList.add("puzzle__btn-gray"),e.innerHTML="Stop",e.removeAttribute("disabled")}t()(o),window.document.addEventListener("DOMContentLoaded",(()=>{window.document.body.insertAdjacentHTML("beforeend",'\n  <div class="container">\n  <div class="puzzle">\n    <div class="puzzle__controls">\n      <button class="puzzle__btn" id="start">Shuffle and start</button>\n      <button class="puzzle__btn" id="stop" disabled>Stop</button>\n      <button class="puzzle__btn" id="save">Save</button>\n      <button class="puzzle__btn" id="results">Results</button>\n      <button class="puzzle__btn puzzle__btn-off" id="audio">\n       <img class="on" src="assets/muteoff.svg" alt="">\n       <img class="off" src="assets/mute.svg" alt="">\n      </button>\n    </div>\n\n    <div class="puzzle__info">\n      <div>Moves: <span class="puzzle__moves"></span></div>\n      <div class="puzzle__group"><span>Time:</span> <span class="puzzle__min"></span>:<span class="puzzle__sec"></span></div>\n    </div>\n    \n    <audio class="audio" src="assets/mus.mp3"></audio>\n\n    <div class="game">\n      <ul class="game__list game__list-4x4"></ul>\n    </div>\n\n    <div class="game__frame">Frame size: <span class="game__frame-text">4x4</span></div>\n\n    <div class="game__size">\n      Other sizes:\n      <ul class="game__size-list">\n        <li class="game__size-item" data-size="9" data-rows="3">3x3</li>\n        <li class="game__size-item" data-size="16" data-rows="4">4x4</li>\n        <li class="game__size-item" data-size="25" data-rows="5">5x5</li>\n        <li class="game__size-item" data-size="36" data-rows="6">6x6</li>\n        <li class="game__size-item" data-size="49" data-rows="7">7x7</li>\n        <li class="game__size-item" data-size="64" data-rows="8">8x8</li>\n      </ul>\n    </div>\n  </div>\n</div>\n<div class="overlay"></div>\n<div class="popup">\n  <div class="popup__close">x</div>\n  <h1 class="popup__title">The game has been save</h1>\n  <p class="popup__text">You can come back later</p>\n  <ul class="popup__list"></ul>\n  <button class="puzzle__btn popup__btn">OK</button>\n</div>\n'),document.querySelector(".puzzle__moves").innerHTML=i()?i():"0",document.querySelector(".puzzle__sec").innerHTML=a()?a():"0",document.querySelector(".puzzle__min").innerHTML=l()?l():"0";const e=document.querySelector(".puzzle__controls"),t=document.querySelector(".game__list"),n=document.querySelector(".game__size-list"),o=document.querySelector("#audio"),c=document.querySelector(".audio"),m=document.querySelector("#stop");let g,f=d()?d():"16",z=u()?u():"4",S=_(),v=r()?r():T(f);b(null,v,z),clearInterval(g);const{seconds:H,minutes:h}={minutes:document.querySelector(".puzzle__min").innerHTML,seconds:document.querySelector(".puzzle__sec").innerHTML};n.addEventListener("click",(e=>{const{dataset:t}=e.target;f=t.size,z=t.rows,y(g),L(),document.querySelector(".puzzle__moves").innerHTML="0",document.querySelector(".game__frame-text").innerHTML=`${+z}x${+z}`,v=T(f),s(v),b(null,v,z),g=M(0,0)})),t.onmousedown=()=>{if(g||(g=M(h,H)),!m.className.includes("puzzle__btn-gray")){const e=document.querySelector(".puzzle__min").innerHTML,t=document.querySelector(".puzzle__sec").innerHTML;clearInterval(g),g=M(e,t)}w(),s(v),document.body.className.includes("popup-active")&&clearInterval(g)},e&&e.addEventListener("click",(e=>{const{id:t}=e.target;switch(t){case"start":g||(g=M(h,H)),y(g),L(),document.querySelector(".puzzle__moves").innerHTML="0",g=M(0,0),v=T(d()),s(v),b("initial",v,z);break;case"stop":if(s(v),y(g),m.className.includes("puzzle__btn-gray"))m.innerHTML="Continue",m.classList.remove("puzzle__btn-gray");else{w();const e=document.querySelector(".puzzle__min").innerHTML,t=document.querySelector(".puzzle__sec").innerHTML;g=M(e,t)}break;case"save":!function(e){p(e)}(v);break;case"results":S=_(),function(e,t){if(p(e),document.body.className.includes("popup-active")){const e=document.querySelector(".popup__text"),n=document.querySelector(".popup__list");document.querySelector(".popup__title").innerHTML="Top result of the game",e.innerHTML="",n.innerHTML="";const o=(e,t,n,o)=>`\n        <li class="popup__item">\n        <span>Moves: ${e}</span> | <span>Spent Time: ${t}:${n}</span> | <span>Type: ${o}x${o}</span>\n      </li>    \n    `;0===t.length&&(e.innerHTML="No results yet"),t.length>=10&&(t.splice(5,t.length),n.insertAdjacentHTML("beforeend",t.map((e=>o(e.move,e.min,e.sec,e.type))).join(""))),n.insertAdjacentHTML("beforeend",t.map((e=>o(e.move,e.min,e.sec,e.type))).join(""))}}(v,S);break;case"audio":o.classList.toggle("puzzle__btn-off"),o.className.includes("puzzle__btn-off")?c.volume=1:c.volume=0}}))}))}()}();